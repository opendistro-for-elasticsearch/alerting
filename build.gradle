// ES Gradle plugin isn't available on gradle plugins portal
buildscript {
    ext.es_version = '6.2.4'
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath "org.elasticsearch.gradle:build-tools:${es_version}"
    }
}

plugins {
    id 'base'
    id 'org.jetbrains.kotlin.jvm' version '1.2.60' apply false
}

allprojects {
    group = 'com.amazon.elasticsearch'
    version = '1.0'

    repositories {
        mavenCentral()
    }
}

evaluationDependsOnChildren()
task 'build-all-plugins'(type: Sync) {
    from project(':monitoring').tasks.bundlePlugin
    into 'build/distributions'
}
assemble.dependsOn('build-all-plugins')

subprojects {
    dependencies {
        compile "com.google.code.findbugs:jsr305:3.0.2"
    }
}